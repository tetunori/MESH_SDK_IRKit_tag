{"formatVersion":"1.0","tagData":{"name":"IRKit","icon":"data:image/png;base64,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","description":"MESH IRKit Control Tag","functions":[{"id":"function_0","name":"Local","connector":{"inputs":[{"label":"Learn"},{"label":"Send"}],"outputs":[{"label":""}]},"properties":[{"name":"IP Address","referenceName":"ip_addr","type":"string","defaultValue":"192.168.0.100"}],"extension":{"initialize":"\n/* Runtime Values */\n\n// Definitions \nvar _IRKitTag_defines = new Array();\n_IRKitTag_defines.inputTypeLearn = 0;\n_IRKitTag_defines.inputTypeSend = 1;\n\n// Register runtimeValues\nvar _runtimeValues = { \n\tIRData : \"\", \n\tinputType : _IRKitTag_defines.inputTypeLearn,\n\tIRKitTag_defines : _IRKitTag_defines \n};\n\nreturn {\n    runtimeValues : _runtimeValues\n}\n","receive":"\n/* For Connectors */\n\n// Save input type.\nif ( index == runtimeValues.IRKitTag_defines.inputTypeLearn ) {\n\t// input from \"Learn\" connector\n\t// log( \"[IRKit] input from \\\"Learn\\\" connector\" );\n\truntimeValues.inputType = runtimeValues.IRKitTag_defines.inputTypeLearn;\n}else if ( index == runtimeValues.IRKitTag_defines.inputTypeSend ) {\n\t// input from \"Send\" connector\n\t// log( \"[IRKit] input from \\\"Send\\\" connector\" );\n\truntimeValues.inputType = runtimeValues.IRKitTag_defines.inputTypeSend;\n}else{\n\t// Illegal Input\n\t// log( \"[IRKit] Illegal Input : index [\" + index + \"]\" );\t\n}\n\n","execute":"\nvar irkit_ip_addr = properties.ip_addr;\n\nswitch( runtimeValues.inputType ){\n\tdefault: // Fall through.\n\tcase runtimeValues.IRKitTag_defines.inputTypeLearn:\n\t\t// log( \"[IRKit] Learn method is specified.\" );\n\t\tlearn_ir_data( irkit_ip_addr, runtimeValues );\n\t\tbreak;\n\tcase runtimeValues.IRKitTag_defines.inputTypeSend:\n\t\t// log( \"[IRKit] Send method is specified\" );\n\t\tif( runtimeValues.IRData != \"\" ){\n\t\t\tsend_ir_data( irkit_ip_addr, runtimeValues.IRData );\n\t\t}else{\n\t\t\tlog( \"[IRKit] Since IR data is vacant, send request was ignored.\" );\n\t\t}\n\t\tbreak;\n}\n\nfunction learn_ir_data( ip_addr, data ){\n\t// GET \n\tajax({\n\t\turl:\"http://\" + ip_addr + \"/messages\", \n\t\ttype:\"get\",\n\t\tsuccess:function( contents ) {\n\t\t\t// log( \"[IRKit] GET success. contents is \" + contents );\n\t\t\tdata.IRData = contents;\n\t\t\tcallbackSuccess();\n\t\t},\n\t\theaders: {'X-Requested-With': 'curl'},\n\t\terror:function( request, errorMessage ) {\n\t\t\tlog( \"[IRKit] GET error.\" + errorMessage ) ;\n\t\t\tcallbackError({});\n\t\t}\n\t});\n}\n\nfunction send_ir_data( ip_addr, ir_data ){\n\tajax({\n\t\turl:\"http://\" + ip_addr + \"/messages\",\n\t\tdata:ir_data,\n\t\ttype:\"post\",\n\n\t\tsuccess:function( contents ) {\n\t\t\t// log( \"[IRKit] POST success.\" );\n\t\t\tcallbackSuccess();\n\t\t},\n\t\theaders: {'X-Requested-With': 'curl'},\n\t\terror:function( request, errorMessage ) {\n\t\t\tlog( \"[IRKit] POST error.\" + errorMessage );\n\t\t\tcallbackError({});\n\t\t}\n\t});\n}\n\nreturn {\n\tresultType:\"pause\"\n}\n","result":""}},{"id":"function_1","name":"Internet","connector":{"inputs":[{"label":"Register"},{"label":"Learn"},{"label":"Send"}],"outputs":[{"label":""}]},"properties":[{"name":"IP Address","referenceName":"ip_addr","type":"string","defaultValue":"192.168.0.100"}],"extension":{"initialize":"\n/* Runtime Values */\n\n// Definitions \nvar _IRKitTag_defines = new Array();\n_IRKitTag_defines.inputTypeRegister = 0;\n_IRKitTag_defines.inputTypeLearn = 1;\n_IRKitTag_defines.inputTypeSend = 2;\n\n// Register runtimeValues\nvar _runtimeValues = { \n\tIRData : \"\", \n\tinputType : _IRKitTag_defines.inputTypeLearn,\n\tclienttoken : \"\",\n\tdeviceid : \"\",\n\tclientkey : \"\",\n\tIRKitTag_defines : _IRKitTag_defines\n};\n\nreturn {\n    runtimeValues : _runtimeValues\n}\n","receive":"\n/* For Connectors */\n\n// Save input type.\nif ( index == runtimeValues.IRKitTag_defines.inputTypeLearn ) {\n\t// input from \"Learn\" connector\n\t// log( \"[IRKit] input from \\\"Learn\\\" connector\" );\n\truntimeValues.inputType = runtimeValues.IRKitTag_defines.inputTypeLearn;\n}else if ( index == runtimeValues.IRKitTag_defines.inputTypeSend ) {\n\t// input from \"Send\" connector\n\t// log( \"[IRKit] input from \\\"Send\\\" connector\" );\n\truntimeValues.inputType = runtimeValues.IRKitTag_defines.inputTypeSend;\n}else if ( index == runtimeValues.IRKitTag_defines.inputTypeRegister ) {\n\t// input from \"Register\" connector\n\t// log( \"[IRKit] input from \\\"Register\\\" connector\" );\n\truntimeValues.inputType = runtimeValues.IRKitTag_defines.inputTypeRegister;\n}else{\n\t// Illegal Input\n\t// log( \"[IRKit] Illegal Input : index [\" + index + \"]\" );\t\n}\n\n","execute":"\nvar irkit_ip_addr = properties.ip_addr;\n\nswitch( runtimeValues.inputType ){\n\tdefault: // Fall through.\n\tcase runtimeValues.IRKitTag_defines.inputTypeLearn:\n\t\t// log( \"[IRKit] Learn method is specified.\" );\n\t\tlearn_ir_data( irkit_ip_addr, runtimeValues );\n\t\tbreak;\n\tcase runtimeValues.IRKitTag_defines.inputTypeRegister:\n\t\t// log( \"[IRKit] Register method is specified.\" );\n\t\tregister_for_internet_api( irkit_ip_addr, runtimeValues );\n\t\tbreak;\n\tcase runtimeValues.IRKitTag_defines.inputTypeSend:\n\t\t// log( \"[IRKit] Send method is specified\" );\n\t\tif( runtimeValues.IRData != \"\" ){\n\t\t\tsend_ir_data( irkit_ip_addr, runtimeValues.IRData );\n\t\t}else{\n\t\t\tlog( \"[IRKit] Since IR data is vacant, send request was ignored.\" );\n\t\t}\n\t\tbreak;\n}\n\nfunction learn_ir_data( ip_addr, data ){\n\t// GET \n\tajax({\n\t\turl:\"https://api.getirkit.com/1/messages\", \n\t\ttype:\"get\",\n\t\tdata: {\n\t\t\tclientkey: runtimeValues.clientkey,\n\t\t\tclear: 1\n\t\t},\n\t\tsuccess:function( contents ) {\n\t\t\t// log( \"[IRKit] GET success. contents is \" + JSON.stringify( contents ) );\n\t\t\t// log( \"[IRKit] gotten IR data is \" + JSON.stringify( contents.message ) );\n\t\t\tdata.IRData = contents.message;\n\t\t\tcallbackSuccess();\n\t\t},\n\t\terror:function( request, errorMessage ) {\n\t\t\tlog( \"[IRKit] GET error.\" + errorMessage ) ;\n\t\t\tcallbackError({});\n\t\t}\n\t});\n}\n\nfunction send_ir_data( ip_addr, ir_data ){\n\tajax({\n\t\turl:\"https://api.getirkit.com/1/messages\",\n\t\ttype:\"post\",\n\t\tdata: {\n\t\t\tclientkey: runtimeValues.clientkey,\n\t\t\tdeviceid: runtimeValues.deviceid,\n\t\t\tmessage: JSON.stringify( ir_data )\n\t\t},\n\t\tsuccess:function( contents ) {\n\t\t\t// log( \"[IRKit] POST success.\" );\n\t\t\tcallbackSuccess();\n\t\t},\n\t\terror:function( request, errorMessage ) {\n\t\t\tlog( \"[IRKit] POST error.\" + errorMessage );\n\t\t\tcallbackError({});\n\t\t}\n\t});\n}\n\nfunction register_for_internet_api( ip_addr, data ){\n\tajax({\n\t\turl:\"http://\" + ip_addr + \"/keys\",\n\t\tdata:'',\n\t\ttype:\"post\",\n\n\t\tsuccess:function( contents ) {\n\t\t\t// log( \"[IRKit] /keys POST success. response is \" + contents );\n\t\t\t// log( \"[IRKit] clienttoken is \" + JSON.parse(contents).clienttoken );\n\t\t\truntimeValues.clienttoken = JSON.parse(contents).clienttoken;\n\t\t\tajax({\n\t\t\t\turl:\"https://api.getirkit.com/1/keys\",\n\t\t\t\tdata:'clienttoken=' + runtimeValues.clienttoken,\n\t\t\t\ttype:\"post\",\n\n\t\t\t\tsuccess:function( contents ) {\n\t\t\t\t\t// log( \"[IRKit] api.getirkit.com/1/keys POST success. response is \" + JSON.stringify( contents ) );\n\t\t\t\t\t// log( \"[IRKit] deviceid is \" + contents.deviceid );\n\t\t\t\t\truntimeValues.deviceid = contents.deviceid;\n\t\t\t\t\t// log( \"[IRKit] clientkey is \" + contents.clientkey );\n\t\t\t\t\truntimeValues.clientkey = contents.clientkey;\n\t\t\t\t\tcallbackSuccess();\n\t\t\t\t},\n\t\t\t\terror:function( request, errorMessage ) {\n\t\t\t\t\tlog( \"[IRKit] api.getirkit.com/1/keys POST error.\" + errorMessage );\n\t\t\t\t\tcallbackError({});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\theaders: {'X-Requested-With': 'curl'},\n\t\terror:function( request, errorMessage ) {\n\t\t\tlog( \"[IRKit] /keys POST error.\" + errorMessage );\n\t\t\tcallbackError({});\n\t\t}\n\t});\n}\n\nreturn {\n\tresultType:\"pause\"\n}","result":""}}]}}